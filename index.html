<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ëª¨ë¬´ì°Œ - ì¬ë£Œ ê¸°ë°˜ ìš”ë¦¬ ì¶”ì²œ</title>
  <style>
    body { font-family: 'Apple SD Gothic Neo', sans-serif; padding: 30px; background-color: #fffaf4; color: #333; }
    h1 { font-size: 28px; color: #ff7f50; margin-bottom: 20px; }
    input, button { padding: 12px; font-size: 16px; border-radius: 8px; border: 1px solid #ccc; }
    button { background-color: #ff7f50; color: white; border: none; cursor: pointer; margin-left: 10px; }
    button:hover { background-color: #ff6347; }
    #results { margin-top: 30px; }
    .recipe { background: #fff; margin-bottom: 15px; padding: 15px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
    .recipe h3 { margin: 0 0 10px; color: #ff6347; font-size: 20px; }
    .section-title { font-weight: bold; margin-top: 10px; margin-bottom: 5px; }
    .step { margin: 8px 0; }
    .step img { display: block; margin-top: 5px; max-width: 100%; border-radius: 8px; }
    .pagination { margin-top: 20px; }
    .pagination button { margin-right: 5px; background-color: #eee; color: #333; }
    .pagination button.active { background-color: #ff7f50; color: white; }
  </style>
</head>
<body>
  <h1>ëª¨ë¬´ì°Œ: ë‚´ ì¬ë£Œë¡œ í•  ìˆ˜ ìˆëŠ” ìš”ë¦¬</h1>
  <input type="text" id="ingredients" placeholder="ì˜ˆ: ê³„ë€, ì–‘íŒŒ">
  <button onclick="findRecipes()">ìš”ë¦¬ ì°¾ê¸°</button>
  <div id="results"></div>
  <div class="pagination" id="pagination"></div>

  <script>
    const recipes = [
      {
        name: "1. ì–‘íŒŒ ê³„ë€ ë®ë°¥",
        servings: "1ì¸ë¶„",
        ingredients: ["ì–‘íŒŒ 1ê°œ (ì•½ 150g)", "ê³„ë€ 2ê°œ", "ë°¥ 1ê³µê¸°", "ê°„ì¥ 1í°ìˆ ", "ì°¸ê¸°ë¦„ ì•½ê°„"],
        steps: [
          { text: "ì–‘íŒŒë¥¼ ë°˜ìœ¼ë¡œ ê°€ë¥´ê³  ì–‡ê²Œ ì±„ ì¬ë‹¤", image: "images/step1.png" },
          { text: "íŒ¬ì— ì‹ìš©ìœ ë¥¼ ë‘ë¥´ê³  ì¤‘ë¶ˆì—ì„œ ì–‘íŒŒê°€ íˆ¬ëª…í•´ì§ˆ ë•Œê¹Œì§€ ë³¶ëŠ”ë‹¤", image: "images/step2.png" },
          { text: "ê³„ë€ì„ í’€ì–´ íŒ¬ì— ë„£ê³  ì €ì–´ê°€ë©° ìµíŒë‹¤. ë°˜ìˆ™ë„ ê°€ëŠ¥", image: "images/step3.png" },
          { text: "ê·¸ë¦‡ì— ë”°ëœ»í•œ ë°¥ì„ ë‹´ê³  ë³¶ì€ ì–‘íŒŒì™€ ê³„ë€ì„ ì–¹ëŠ”ë‹¤", image: "images/step4.png" },
          { text: "ê°„ì¥ 1í°ìˆ ê³¼ ì°¸ê¸°ë¦„ ì•½ê°„ì„ ê³¨ê³ ë£¨ ë¿Œë¦°ë‹¤", image: "images/step5.png" }
        ],
        tip: "ê³„ë€ì€ ë„ˆë¬´ ì˜¤ë˜ ìµíˆë©´ í½í½í•  ìˆ˜ ìˆì–´ìš”. ë°˜ìˆ™ìœ¼ë¡œ ë§ˆë¬´ë¦¬í•˜ë©´ ë” ì´‰ì´‰í•´ìš”. ê¹€ê°€ë£¨ë‚˜ ìª½íŒŒë¥¼ ì˜¬ë¦¬ë©´ ë§›ê³¼ ë¹„ì£¼ì–¼ì´ ì—…ê·¸ë ˆì´ë“œë©ë‹ˆë‹¤."
      },
      {
        name: "2. ê³„ë€ì°œ",
        servings: "2ì¸ë¶„",
        ingredients: ["ê³„ë€ 3ê°œ", "ë¬¼ 150ml", "ì†Œê¸ˆ 1/4ì‘ì€ìˆ ", "ì°¸ê¸°ë¦„ ì•½ê°„"],
        steps: [
          { text: "ê³„ë€ì„ ë³¼ì— ê¹¨ ë„£ê³  ê³±ê²Œ í’€ì–´ì¤€ë‹¤", image: "images/egg_steamed_step1.png" },
          { text: "ê³„ë€ë¬¼ì— ë¬¼ê³¼ ì†Œê¸ˆì„ ë„£ê³  ì˜ ì„ì€ í›„ ì²´ì— í•œë²ˆ ê±¸ëŸ¬ì¤€ë‹¤", image: "images/egg_steamed_step2.png" },
          { text: "ëšë°°ê¸°ë‚˜ ì „ìë ˆì¸ì§€ìš© ìš©ê¸°ì— ë¶“ê³  ëšœê»‘ì„ ë®ì€ ë’¤ ì•½ë¶ˆ ë˜ëŠ” ì „ìë ˆì¸ì§€ë¡œ 6~7ë¶„ ìµíŒë‹¤", image: "images/egg_steamed_step3.png" },
          { text: "ì™„ì„±ëœ ê³„ë€ì°œ ìœ„ì— ì°¸ê¸°ë¦„ ëª‡ ë°©ìš¸ì„ ë–¨ì–´ëœ¨ë ¤ ë§ˆë¬´ë¦¬í•œë‹¤", image: "images/egg_steamed_step4.png" }
        ],
        tip: "ì²´ì— ê±¸ëŸ¬ì£¼ë©´ ë” ë¶€ë“œëŸ½ê³  ê³±ê²Œ ìµì–´ìš”. ìª½íŒŒë‚˜ ì°¸ê¸°ë¦„ì„ ì¶”ê°€í•˜ë©´ í’ë¯¸ê°€ ì¢‹ì•„ìš”."
      },
      {
        name: "3. ê¹€ì¹˜ë³¶ìŒ",
        servings: "2ì¸ë¶„",
        ingredients: ["ìµì€ ê¹€ì¹˜ 1ì»µ (ì•½ 150g)", "ì‹ìš©ìœ  1í°ìˆ ", "ì„¤íƒ• 1ì‘ì€ìˆ ", "ê³ ì¶§ê°€ë£¨ 1/2ì‘ì€ìˆ "],
        steps: [
          { text: "ê¹€ì¹˜ë¥¼ ë¨¹ê¸° ì¢‹ì€ í¬ê¸°ë¡œ ìë¥¸ë‹¤", image: "images/kimchi_stirfry_step1.png" },
          { text: "íŒ¬ì— ì‹ìš©ìœ ë¥¼ ë‘ë¥´ê³  ê¹€ì¹˜ë¥¼ ì¤‘ë¶ˆì—ì„œ 3~4ë¶„ ë³¶ëŠ”ë‹¤", image: "images/kimchi_stirfry_step2.png" },
          { text: "ì„¤íƒ•ê³¼ ê³ ì¶§ê°€ë£¨ë¥¼ ë„£ê³  ë” ë³¶ëŠ”ë‹¤", image: "images/kimchi_stirfry_step3.png" },
          { text: "ë¬¼ ì—†ì´ ìì‘í•˜ê²Œ ì¡¸ì´ë“¯ ë³¶ì•„ ë§ˆë¬´ë¦¬í•œë‹¤", image: "images/kimchi_stirfry_step4.png" }
        ],
        tip: "ë¬µì€ì§€ë¥¼ ì‚¬ìš©í•˜ë©´ ê¹Šì€ ë§›ì´ ë‚˜ìš”. ì°¸ì¹˜ë‚˜ ë¼ì§€ê³ ê¸°ë¥¼ ì¶”ê°€í•˜ë©´ í’ì„±í•´ì ¸ìš”."
      },
      {
        name: "4. ë‘ë¶€ì¡°ë¦¼",
        servings: "2~3ì¸ë¶„",
        ingredients: ["ë‘ë¶€ 1ëª¨ (ì•½ 300g)", "ê°„ì¥ 2í°ìˆ ", "ë¬¼ 4í°ìˆ ", "ë‹¤ì§„ ë§ˆëŠ˜ 1ì‘ì€ìˆ ", "ê³ ì¶§ê°€ë£¨ 1ì‘ì€ìˆ ", "ì‹ìš©ìœ  1í°ìˆ "],
        steps: [
          { text: "ë‘ë¶€ë¥¼ 1.5cm ë‘ê»˜ë¡œ ì°ê³  í‚¤ì¹œíƒ€ì›”ë¡œ ë¬¼ê¸°ë¥¼ ì œê±°í•œë‹¤", image: "images/tofu_braise_step1.png" },
          { text: "íŒ¬ì— ì‹ìš©ìœ ë¥¼ ë‘ë¥´ê³  ë‘ë¶€ë¥¼ ì•ë’¤ë¡œ ë…¸ë¦‡í•˜ê²Œ êµ½ëŠ”ë‹¤", image: "images/tofu_braise_step2.png" },
          { text: "ì‘ì€ ë³¼ì— ê°„ì¥, ë¬¼, ë‹¤ì§„ ë§ˆëŠ˜, ê³ ì¶§ê°€ë£¨ë¥¼ ë„£ê³  ì–‘ë…ì¥ì„ ë§Œë“ ë‹¤", image: "images/tofu_braise_step3.png" },
          { text: "ë‘ë¶€ ìœ„ì— ì–‘ë…ì¥ì„ ë¶€ì–´ ì¤‘ë¶ˆì—ì„œ 5~7ë¶„ ì¡¸ì¸ë‹¤", image: "images/tofu_braise_step4.png" }
        ],
        tip: "ë¬¼ ëŒ€ì‹  ë‹¤ì‹œë§ˆìœ¡ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë” ê¹Šì€ ë§›ì´ ë‚˜ìš”. ì–‘íŒŒë‚˜ ì²­ì–‘ê³ ì¶”ë¥¼ ê³ë“¤ì´ë©´ ì¢‹ì•„ìš”."
      }
    ];

    let currentPage = 1;
    const itemsPerPage = 10;

    function findRecipes() {
      const input = document.getElementById("ingredients").value;
      const inputIngredients = input.split(",").map(item => item.trim());
      const matchedRecipes = recipes.filter(recipe =>
        recipe.ingredients.every(ingredient => inputIngredients.includes(ingredient.replace(/\s*\([^)]*\)/g, "").split(" ")[0]))
      );

      currentPage = 1;
      showRecipes(matchedRecipes);
    }

    function showRecipes(matchedRecipes) {
      const resultDiv = document.getElementById("results");
      const paginationDiv = document.getElementById("pagination");
      resultDiv.innerHTML = "";
      paginationDiv.innerHTML = "";

      if (matchedRecipes.length === 0) {
        resultDiv.innerHTML = "<p>í•´ë‹¹ ì¬ë£Œë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìš”ë¦¬ê°€ ì—†ì–´ìš”.</p>";
        return;
      }

      const start = (currentPage - 1) * itemsPerPage;
      const end = start + itemsPerPage;
      const paginatedRecipes = matchedRecipes.slice(start, end);

      paginatedRecipes.forEach(recipe => {
        const recipeDiv = document.createElement("div");
        recipeDiv.className = "recipe";

        let html = `<h3>${recipe.name.replace(/^\d+\.\s*/, "")}</h3>`;
        if (recipe.servings) {
          html += `<p><strong>ğŸ§‚ ë¶„ëŸ‰:</strong> ${recipe.servings}</p>`;
        }
        html += `<div class='section-title'>ì¬ë£Œ</div><ul>`;
        recipe.ingredients.forEach(ing => { html += `<li>${ing}</li>`; });
        html += `</ul>`;

        html += `<div class='section-title'>ìš”ë¦¬ ìˆœì„œ</div>`;
        recipe.steps.forEach(step => {
          html += `<div class='step'>${step.text}<br><img src="${step.image}" alt="${step.text}"></div>`;
        });

        html += `<div class='section-title'>íŒ</div><p>${recipe.tip}</p>`;

        recipeDiv.innerHTML = html;
        resultDiv.appendChild(recipeDiv);
      });

      const pageCount = Math.ceil(matchedRecipes.length / itemsPerPage);
      for (let i = 1; i <= pageCount; i++) {
        const btn = document.createElement("button");
        btn.innerText = i;
        btn.className = (i === currentPage) ? "active" : "";
        btn.onclick = () => {
          currentPage = i;
          showRecipes(matchedRecipes);
        };
        paginationDiv.appendChild(btn);
      }
    }
  </script>
</body>
</html>
